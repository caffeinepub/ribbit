{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 7,
  "summary": "App with ponds/lilies features and an identity/authorization model supporting anonymous usage via a temporary persistent client-side identity, with optional profile saving; recent updates introduced authorization/identity regressions and backend code loss (main.mo).",
  "architectural_notes": [
    "Identity model: assign every visitor a temporary persistent client-side identity (session/localStorage) for anonymous usage; optionally allow saving/upgrading to a connected identity/profile later."
  ],
  "known_issues": [
    "Recent updates deleted/overwrote backend methods; user reverted to v186 due to missing methods.",
    "Authorization regression: 'not authorized' errors when creating ponds/lilies/etc.",
    "UI regression: usernames appear grayed out due to identity system treating users as anonymous/guest.",
    "Backend regression: most of main.mo appears deleted; v173 has last known working main.mo."
  ],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-load-the-google-font-tilt-warp-https-fonts-google-com-specimen-tilt-warp-in-the-frontend-so-it-is-available-to-the-application-e-g-via-a-link-in-frontend-index-html-or-a-global-css-import",
      "title": "Load the Google Font “Tilt Warp” (https://fonts.google.com/specimen/Tilt+Warp) in the frontend so it is available to the application (e.g., via a <link> in frontend/index.html or a global CSS import).",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-main-site-header-desktop-logo-text-ribbit-in-frontend-src-components-header-tsx-to-use-the-tilt-warp-font-family-while-keeping-the-current-visual-styling-except-set-font-weight-to-400-and-font-size-to-1-75rem",
      "title": "Update the main site header desktop logo text “ribbit” in frontend/src/components/Header.tsx to use the Tilt Warp font-family while keeping the current visual styling, except set font-weight to 400 and font-size to 1.75rem.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-desktop-header-logo-text-ribbit-typography-in-frontend-src-components-header-tsx-to-use-letter-spacing-0-035rem-and-font-size-1-7rem-keeping-the-existing-tilt-warp-font-family-and-font-weight-400-unchanged",
      "title": "Update the desktop header logo text “ribbit” typography in frontend/src/components/Header.tsx to use letter-spacing: -0.035rem and font-size: 1.7rem (keeping the existing Tilt Warp font-family and font-weight: 400 unchanged).",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Support anonymous full-site usage with a temporary persistent identity (session/localStorage) and optional profile saving when user chooses to connect",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Update main site header logo text “ribbit” to use Google Font Tilt Warp, keeping existing styling but setting font-weight: 400 and font-size: 1.75rem",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Adjust the header “ribbit” logo typography: set letter-spacing to -0.035rem and font-size to 1.7rem",
      "reqIds": [],
      "status": "in_progress"
    }
  ],
  "projectName": "Untitled request",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}