{
  "kind": "build_request",
  "title": "Add pond rank to All Ponds cards",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Update the All Ponds page pond cards to display each pond’s rank on the card.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-3"
        ],
        "quotes": [
          "ok do the rank now"
        ]
      },
      "acceptanceCriteria": [
        "On /ponds (All Ponds page), each pond card shows a visible rank indicator (e.g., “#1”, “#2”, …).",
        "Ranks are computed deterministically from the same list being rendered: sort ponds by lilyCount (descending), then memberCount (descending), then name (ascending), and assign ranks starting at 1.",
        "The Join/Joined control remains in the top-right of the card and is not visually overlapped by the rank indicator.",
        "No backend API changes are required to render rank (rank is derived client-side from the ponds list)."
      ]
    }
  ],
  "constraints": [
    "Do not edit files under frontend/src/components/ui (shadcn components are read-only).",
    "Do not edit frontend/src/hooks/useInternetIdentity.ts, frontend/src/hooks/useInternetIdentity.tsx, frontend/src/hooks/useActor.ts, frontend/src/main.tsx (immutable paths).",
    "Backend must remain a single Motoko actor in backend/main.mo; do not introduce additional canisters/services."
  ],
  "nonGoals": [
    "Do not add new sorting/filtering controls to the All Ponds page beyond what is needed to compute and display rank.",
    "Do not change the existing lily count and member count text content or ordering, except as required for layout to accommodate the rank indicator."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}