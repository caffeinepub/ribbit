{
  "kind": "build_request",
  "title": "Fix pond creation so only the creator becomes a member",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Fix the backend pond-creation logic so that when a new pond is created, only the creating principal (`caller`) is added as a member (and optionally as the initial moderator/admin per existing behavior), rather than adding all known/initialized users.",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-4",
          "msg-6"
        ],
        "quotes": [
          "for some reason when a new pond is created, all users become members of that pond automatically. why? dont code yet",
          "ok fix it"
        ]
      },
      "acceptanceCriteria": [
        "After calling the existing `createPond(...)` update method, the created pond’s `members` list contains the creator principal and does not contain unrelated principals.",
        "The created pond’s `memberCount` matches the length of the `members` array (e.g., 1 if only the creator is added).",
        "No code path during pond creation populates `members` from global user registries such as `initializedUsers` or equivalent principal collections."
      ]
    },
    {
      "id": "REQ-2",
      "text": "Ensure pond creation updates user membership state only for the creating principal (e.g., the creator’s `UserProfile.joinedPonds`), and does not append the new pond to every user’s profile or any global joined-pond list for other principals.",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "for some reason when a new pond is created, all users become members of that pond automatically. why? dont code yet"
        ]
      },
      "acceptanceCriteria": [
        "Immediately after pond creation, `getJoinedPonds()` (or equivalent membership query) for the creator includes the new pond.",
        "Immediately after pond creation, `getJoinedPonds()` (or equivalent membership query) for a different authenticated principal does not include the new pond unless they explicitly joined it.",
        "Existing join/leave behavior continues to work as before for non-creators."
      ]
    }
  ],
  "constraints": [
    "Backend must remain a single Motoko actor with logic in backend/main.mo (no additional backend services).",
    "Use English for any user-facing text."
  ],
  "nonGoals": [
    "Do not redesign the pond membership/join UX.",
    "Do not change unrelated hover/styling behavior or other frontend components.",
    "Do not introduce new authentication providers beyond existing Internet Identity support."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  },
  "userProfileUpdate": {
    "goalsToAdd": [],
    "goalsToRemove": [],
    "preferencesToAdd": [],
    "preferencesToRemove": [],
    "miscToAdd": [],
    "miscToRemove": [],
    "fieldsToSet": {},
    "fieldsToDelete": []
  }
}