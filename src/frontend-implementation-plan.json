{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Fix Lily page back button placement in header",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Move the existing Reddit-style Back button into the Lily header row, immediately left of the pond avatar, without changing its behavior.",
      "acceptanceCriteria": [
        "On `/lily/:id`, the Back control (ArrowLeft icon + “Back” label) appears directly to the left of the pond avatar in the header area.",
        "The Back control remains keyboard-accessible and clickable, and continues to call the existing `handleBackClick` behavior (history back when possible, otherwise navigate to `/pond/$name`).",
        "There is no duplicate Back button rendered above the lily content after the change."
      ],
      "file_operations": [
        {
          "path": "frontend/src/pages/LilyPage.tsx",
          "operation": "modify",
          "description": "Rework the Lily header layout so the existing Back button (ArrowLeft + label) is rendered inside the header row container immediately before the pond Avatar, and remove the current standalone Back button block above the content. Keep the existing `handleBackClick` logic unchanged and preserve button semantics for keyboard accessibility. Ensure no edits are made under `frontend/src/components/ui`."
        }
      ]
    },
    {
      "id": "REQ-2",
      "summary": "Keep the Back button placement change scoped to LilyPage only, with no Back button UI added to FrogProfilePage.",
      "acceptanceCriteria": [
        "On `/f/:username`, there is no Back button UI introduced by this change.",
        "The only page affected by the Back button placement/layout adjustment is `frontend/src/pages/LilyPage.tsx`."
      ],
      "file_operations": [
        {
          "path": "frontend/src/pages/LilyPage.tsx",
          "operation": "modify",
          "description": "Confine all Back button placement/layout changes to LilyPage only (no shared layout/components touched) so FrogProfilePage remains unchanged and does not render any Back button UI as a side-effect."
        }
      ]
    }
  ]
}